<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: html(pageTitle='Cita confirmada', content=~{::content})}"
      th:remove="tag">

<section th:fragment="content">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-8">

      <div class="alert alert-success shadow-sm">
        <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
          <div>
            <h1 class="h5 mb-1">¡Cita reservada correctamente!</h1>
            <div class="small text-muted">Aquí tienes el resumen de tu cita.</div>
          </div>
          <a class="btn btn-success btn-sm" th:href="@{/cliente}">Ir al panel</a>
        </div>
      </div>

      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <h2 class="h6 mb-3">Resumen</h2>

          <dl class="row mb-0">

            <dt class="col-sm-4 text-muted">Fecha y hora</dt>
            <dd class="col-sm-8"
                th:text="${#temporals.format(appointment.inicio, 'dd/MM/yyyy HH:mm')}">
              -
            </dd>

            <dt class="col-sm-4 text-muted">Fin estimado</dt>
            <dd class="col-sm-8"
                th:text="${#temporals.format(appointment.fin, 'dd/MM/yyyy HH:mm')}">
              -
            </dd>

            <dt class="col-sm-4 text-muted">Estado</dt>
            <dd class="col-sm-8">
              <span class="badge bg-secondary" th:text="${appointment.estado}">PENDIENTE</span>
            </dd>

            <dt class="col-sm-4 text-muted">Servicio</dt>
            <dd class="col-sm-8"
                th:text="${appointment.service.nombre}">
              -
            </dd>

            <dt class="col-sm-4 text-muted">Duración</dt>
            <dd class="col-sm-8"
                th:text="${appointment.service.minutosEstimados + ' min'}">
              -
            </dd>

            <dt class="col-sm-4 text-muted">Vehículo</dt>
            <dd class="col-sm-8"
                th:text="${appointment.vehicle.matricula + ' — ' + appointment.vehicle.marca + ' ' + appointment.vehicle.modelo}">
              -
            </dd>

          </dl>
        </div>
      </div>

      <div class="d-grid d-sm-flex gap-2 justify-content-sm-end mt-3">
        <a class="btn btn-outline-secondary" th:href="@{/cliente/citas/nueva}">Reservar otra</a>
        <a class="btn btn-primary" th:href="@{/cliente}">Volver</a>
      </div>

    </div>
  </div>
</section>
</html>
