<!DOCTYPE html>
<html lang="es"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/base :: html(pageTitle='Registro', content=~{::content})}">

<section th:fragment="content" style="max-width:520px;">
  <h1>Registro</h1>

  <form th:action="@{/register}" th:object="${registerRequest}" method="post"
        style="display:grid;gap:12px;margin-top:14px;">

    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <div>
      <label for="nombre">Nombre</label><br />
      <input id="nombre" type="text" th:field="*{nombre}" />
      <div th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></div>
    </div>

    <div>
      <label for="apellidos">Apellidos</label><br />
      <input id="apellidos" type="text" th:field="*{apellidos}" />
      <div th:if="${#fields.hasErrors('apellidos')}" th:errors="*{apellidos}"></div>
    </div>

    <div>
      <label for="telefono">Teléfono (opcional)</label><br />
      <input id="telefono" type="text" th:field="*{telefono}" />
      <div th:if="${#fields.hasErrors('telefono')}" th:errors="*{telefono}"></div>
    </div>

    <div>
      <label for="email">Email</label><br />
      <input id="email" type="email" th:field="*{email}" />
      <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
    </div>

    <div>
      <label for="password">Contraseña</label><br />
      <input id="password" type="password" th:field="*{password}" />
      <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
    </div>

    <div>
      <label for="confirmPassword">Confirmar contraseña</label><br />
      <input id="confirmPassword" type="password" th:field="*{confirmPassword}" />
      <div th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"></div>
    </div>

    <button type="submit">Crear cuenta</button>

    <p style="margin:0;">
      ¿Ya tienes cuenta? <a th:href="@{/login}">Login</a>
    </p>
  </form>
</section>

</html>
